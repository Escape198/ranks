<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ranks</title>
  </head>
<body>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
  <fieldset>
    <p>{{ title }}</p>
    <p>{{ description }}</p>
    <p>{{ price }}</p>
    <div class="row">
      <div id="example1-card" class="StripeElement StripeElement--empty"><div class="__PrivateStripeElement" style="margin: 0px !important; padding: 0px !important; border: none !important; display: block !important; background: transparent !important; position: relative !important; opacity: 1 !important;"><iframe name="__privateStripeFrame2385" frameborder="0" allowtransparency="true" scrolling="no" allow="payment *" src="https://js.stripe.com/v3/elements-inner-card-c7c0b112c7f4497b9e273530f98a2503.html#locale=en&amp;wait=true&amp;mids[guid]=NA&amp;mids[muid]=NA&amp;mids[sid]=NA&amp;style[base][iconColor]=%23c4f0ff&amp;style[base][color]=%23fff&amp;style[base][fontWeight]=500&amp;style[base][fontFamily]=Roboto%2C+Open+Sans%2C+Segoe+UI%2C+sans-serif&amp;style[base][fontSize]=16px&amp;style[base][fontSmoothing]=antialiased&amp;style[base][:-webkit-autofill][color]=%23fce883&amp;style[base][::placeholder][color]=%2387BBFD&amp;style[invalid][iconColor]=%23FFC7EE&amp;style[invalid][color]=%23FFC7EE&amp;iconStyle=solid&amp;rtl=false&amp;componentName=card&amp;keyMode=test&amp;apiKey=pk_test_6pRNASCoBOKtIshFeQd4XMUh&amp;referrer=https%3A%2F%2Fstripe.dev%2Felements-examples%2F&amp;controllerId=__privateStripeController2381" title="Secure card payment input frame" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; user-select: none !important; transform: translate(0px) !important; color-scheme: normal !important; height: 19.2px;"></iframe><input class="__PrivateStripeElement-input" aria-hidden="true" aria-label=" " autocomplete="false" maxlength="1" style="border: none !important; display: block !important; position: absolute !important; height: 1px !important; top: -1px !important; left: 0px !important; padding: 0px !important; margin: 0px !important; width: 100% !important; opacity: 0 !important; background: transparent !important; pointer-events: none !important; font-size: 16px !important;"></div></div>
    </div>
    <button id="buy-button">Buy</button>
    <script type="text/javascript">
          var stripe = Stripe('pk_test_51KzyrHGbR74uZOiYpDf0vIqTs6KiEgWSl1t0OZbnGMpA63s6M96oGzEgLZ1kpYQnKpC0SrWq2tS0eeMPNHaxEtt900NHrLF0th');
          var buyButton = document.getElementById('buy-button');
          buyButton.addEventListener('click', function() {
            fetch('/buy/1', {method: 'GET'})
            .then(response => {return response.json();})
            .then(session => {console.log(session);
            return stripe.redirectToCheckout({sessionId: session.sessionId})})
          });

    </script>
  <fieldset>
</body>
</html>
